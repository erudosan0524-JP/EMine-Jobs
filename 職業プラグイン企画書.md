# 職業プラグイン企画書

## 概要
えるど鯖の大部分を担う職業プラグイン。  
多くの職業があり，一つだけ就くことができる。
職業がどんどん成長していく「職業成長システム」を搭載。
職業のレベルアップ方法も，その職業によって違う。
ex) 「木こり師」は木こりをする e.t.c  
職業レベルが上がっていくと，使えるツール・スキルが増える。

## 機能詳細
### プラグイン名について
プラグイン名は「EMine-Jobs」（略称：EMJ）

### 職業について
職業は大きく５つのランクに分けられている。ランクが高くなればなるほど多彩なスキルを使える職業へと変化していく。    
また，職業をランク１→ランク２に変えた場合，レベルはリセットされる。そのため，次のレベルアップまで経験値をためなければならない。

|    職業ランク    |   主な職業   |   次のランクまでのレベル   |
|:--------:|----------|----------|
|    1    |    Miner,Lamber,Chef,Fisher...  |    30   |
|    2    |   Pro-Miner,Pro-Lamber,Witch,Enchanter...   |   45   |
|    3    |    Gunner,Alchemist,Glutnny...   | 25 |
|    4    |    Grappler,Seichi-man,Pro-Gunner   |    50 |
|    5    |    Scoop-Miner,未定   |     なし |

### ランク１職業について
初ログイン時は，いくつかの職業の中から自分がやりたい職業を選ぶことができる。  
ランク１職業は基本的にサバイバルで必要不可欠な行動・動作に基づく基となっている。
ランク１職業では特にスキル・報酬は与えられない。

#### ランク１職業一覧
以下が初期に設定できる職業である。

|    職業    |   概要   |
|:--------:|----------|
|    Miner（鉱夫）    |    採掘系の職業。ブロックをつるはしで掘ることで経験値が加算されていく。   |
|    Lamber（木こり師）    |    きこり系の職業。木材系のアイテムを斧で掘ることで経験値が加算されていく。   |
|    Fisher（釣り師）    |    釣り系の職業。釣りをすることで経験値が加算されていく。   |
|    Chef（調理師）    |    料理系の職業。かまどで食べ物を作ることで経験値が加算されていく。   |
|    Hunter（ハンター）    |    戦闘系の職業。MOBを攻撃することで経験値が加算されていく。   |

### ランク２職業について
ランク２職業は，ランク１職業が一定レベルまで達すると開放される職業である。基本的にどのランク１職業も「レベル30」になるとランク２職業が開放される。  
また，ランク２職業に就くか否かはプレイヤーの自由である。  
スキルは一部職業には実装されている。
どのランク１職業がどのランク２職業に対応しているかは後述。  

#### ランク２職業一覧

|    職業    |   概要   |
|:--------:|----------|
|    Mine-Pro（マインプロ）    |    採掘系の職業。ブロックをつるはしで掘ることで経験値が加算されていく。常に採掘速度上昇２が付与される。   |
|    Lamber-pro（ランバープロ）    |    きこり系の職業。木材系のアイテムを斧で掘ることで経験値が加算されていく。   |
|    Farmer（農夫）    |    きこり系の派生職業。農業することで経験値が加算。|
|    Enchanter（エンチャント師）    |    釣り系の派生職業。エンチャントをすることで経験値が加算される。また，どこでもエンチャントができる本を持っている。   |
|    WITCH（魔女）    |    釣り系の派生職業。ポーションを作ることで経験値が加算される。マイナスのポーション効果を無効化する。   |
|    Hunger（飢餓人）    |    料理系の職業。空腹ゲージが常に３つで固定される。おなかが減らない。   |
|    Archer（アーチャー）    |    戦闘系の職業。弓でMOBを攻撃することによって経験値が加算される。 弓の威力が2倍になる。  |

### ランク３職業について 
ランク3職業はランク2職業よりもさらに強いスキルやアイテムを使用することができます。

#### ランク３職業一覧

|    職業    |   概要   |
|:--------:|----------|
|    Diamond-Miner    |    採掘系の職業。シフト押して掘ることで前方3*3が一気に掘れる。鉱石を掘ることで経験値獲得 |
|    Gunner（ガンナー）    |    採掘系の派生職業。専用SHOPから銃を手に入れることができる。通貨はダイヤモンド。銃を使ってMOBを倒すことで経験値が手に入る。 |
|    Diamond-Lamber（木こり師）    |    きこり系の職業。所謂きこりMODの効果。木をこることで経験値獲得。|
|    Alchemist(錬金術師)    |    Enchantの後継職業。エンチャントをすることで経験値が加算される。独自のレシピが開放される。（詳細未定）   |
|    Glutnny（暴食）    |   Hungerの後継職業。食べ物を食べることで数秒間攻撃力上昇２が付与される。食べ物を食べると経験値が加算。|

### コマンド一覧

|    コマンド    |   概要   |
|:--------:|----------|
|    /emj stats    |    現在の自分の就いている職業，レベルが確認できる。 |
|    /emj  [職業名]    |    指定した職業に就ける |
|    /emj leave    |    現在就いている職業を辞める(レベルはリセット) |
|    /emj jobs    |    現在就くことが出来る職業一覧を表示する。 |


## 技術詳細

### プレイヤーデータの保存について
各プレイヤーのデータは以下のようなフォーマットでデータベースに保存する。

＜テーブル1＞

|    UUID    |   プレイヤー名   |   最終ログイン   |
|:--------:|----------|----------|
|    ○○○    |    プレイヤー名 |     日にち |   

＜テーブル2＞

|    UUID    |   職業  |   経験値  |   レベル  |   職業ID  |
|:--------:|----------|----------|----------|----------|
|    ○○○    |    職業 |     経験値 |    レベル |     ID   |

### 職業の保存について
|    job_id    |   職業名  |   ジャンル  |
|:--------:|----------|----------|
|    ○○○    |    職業 |     MINER |

鉱夫系列の職業→MINER
木こり系列の職業→LAMBER
釣り系列の職業→FISHING
調理師系列の職業→CHEF
ハンター系列の職業→HUNTER


### 職業の実装について
各職業はクラスで実装をする。大本の基礎を抽象クラスで型取り，それを参照して実装していく。